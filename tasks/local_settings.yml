---
- name: Copy vimrc
  ansible.builtin.copy:
    src: files/.vimrc
    dest: "{{ ansible_env.HOME }}/.vimrc"
    backup: yes
    mode: '0664'

- name: Copy neovim init vim
  ansible.builtin.copy:
    src: files/init.vim
    dest: "{{ ansible_env.HOME }}/.config/nvim/init.vim"
    backup: yes
    mode: '0664'

- name: Add checkout alias
  community.general.git_config:
    name: alias.co
    scope: global
    value: checkout

- name: Add status alias
  community.general.git_config:
    name: alias.st
    scope: global
    value: status -sb

- name: Add push alias
  community.general.git_config:
    name: alias.p
    scope: global
    value: push

- name: Add push alias
  community.general.git_config:
    name: alias.lg
    scope: global
    value: log --oneline

- name: Add last alias
  community.general.git_config:
    name: alias.last
    scope: global
    value: log -1 HEAD --stat

- name: Add .bashrc settings
  ansible.builtin.blockinfile:
    block: "{{ lookup('file', 'files/bashrc') }}"
    path: "{{ ansible_env.HOME }}/.bashrc"
    backup: yes
    marker: "# {mark} .BASHRC LOCAL SETTINGS"
